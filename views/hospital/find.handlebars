
{{#section 'head'}}

	<script src="https://cdn.jsdelivr.net/npm/vue"></script>
	<link rel="stylesheet" type="text/css" href="/css/find.css">

{{/section}}





<div id="app">

<br><br><br><br><br>

<section>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <nav>
                  <div class="nav nav-tabs" id="nav-tab" role="tablist">
                    <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" @click="showAddress" role="tab" aria-controls="nav-home" aria-selected="true">지역별 검색</a>
                    <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" @click="showSubway" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">역 주변 검색</a>
                  </div>
                </nav>
            </div>
        </div>
    </div>
</section>

<section class="text-white" v-show="addressRender" style="background-color:#BD1622;">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="card-body">
                        <div class="row pb-2">
            <div class="col-md-12">
                <h4>지역과 진료과를 입력해 주변의 병원을 찾아보세요.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/subjectInfo" class="btn btn-primary">진료과목 선택이 어려우신가요? (Click!)</a></h4>
            </div>
        </div>
    	<div class="row">
            <div class="col-md-3">
            	<div class="form-group">
            		<select v-model="city" id="inputState" class="form-control">
						<option value="서울특별시">서울특별시</option>
					</select>
            	</div>
			</div>
			<div class="col-md-3">
            	<div class="form-group">
            		<select v-model="district" id="inputState" class="form-control">
						<option v-for="index in districtList">\{{index}}</option>
					</select>
            	</div>
			</div>
			<div class="col-md-3">
            	<div class="form-group">
            		<select v-model="neighborhood" id="inputState" class="form-control">
            			<option>선택없음</option>
						<option v-for="index in neighborList">\{{index}}</option>
					</select>
            	</div>
			</div>
            <div class="col-md-3">
            	<div class="form-group">
            		<select v-model="subject" id="inputState" class="form-control">
            			<option>선택없음</option>
						<option v-for="index in subjectList">\{{index}}</option>
					</select>
            	</div>
			</div>
    	</div>
    </div>
</section>

<div class="bg-danger text-white" v-show="subwayRender">
	 <div class="container">
        <div class="row">
        	<div class="form-group">
		        <label for="subway">역 이름</label>
				<input id="subway" type="text" name="subway" v-model="subway"><button @click="searchSubway">검색</button>
        	</div>
   		</div>
    </div>
</div>

<br><br>

<section class="search-box">
    <div class="container-fluid">
	<div class="row">
		<div class="col-md-5 listing-block">
			<div v-for="(hospital, index) in pageHospitals">
				<div class="media">
	            	<div class="fav-box"><i class="fa fa-heart-o" aria-hidden="true"></i>
				</div>
				<div class="media-body pl-3">
					<div class="price"><a :href="hospitalInfoHref(hospital.id)"><img :src="pinImageHref(index)">  \{{hospital.name}}</a></div>
					진료과목 :<span v-for="subject in hospital.subject">\{{subject}} </span>
					<div class="stats">
					    <span>평일 : \{{hospital.weekday}} </span>
					    <span>토요일 : \{{hospital.saturday}}</span>
					    <span>공휴일 : \{{hospital.holiday}}</span>
					</div>
					<div class="address">\{{ fullAddress(hospital) }}</div>
					</div>
				</div>
			</div>
			<div class="container">
				<ul class="pagination">
					<li class="disabled"><a href="#">«</a></li>
					<li v-for="n in numOfPage"><a @click="changeIndex(n)" href="#">\{{n}}</a></li>
					<li class="disabled"><a href="#">»</a></li>
	            </ul>
			</div>
		</div>
		<div class="col-md-7 map-box mx-0 px-0">
			<div id="map" style="width:100%;height:700px;"></div>
		</div>
	</div>
	</div>
</section>




</div>





{{#section 'jquery'}}



	<!-- For Hospital Data Ajax-->
	<script type="text/javascript" src="/js/api/hospital.js"></script>	
	<!-- Hospital Data들 모음 (City, District, NeighborHood)등-->
	<script type="text/javascript" src="/js/data/hospitalData.js"></script>
	<!-- Vue Controller 포함. -->
	<script type="text/javascript" src="/js/controllers/findController.js"></script>


{{/section}}





